
run("Define Multi-View Dataset", "define_dataset=[Automatic Loader (Bioformats based)] project_filename=dataset.xml path=[D:/James/2026-01-23/N001/10 mW/subsampled] exclude=10 pattern_0=Tiles move_tiles_to_grid_(per_angle)?=[Move Tile to Grid (Macro-scriptable)] grid_type=[Snake: Down & Right      ] tiles_x=2 tiles_y=2 tiles_z=1 overlap_x_(%)=10 overlap_y_(%)=10 overlap_z_(%)=10 keep_metadata_rotation how_to_store_input_images=[Re-save as multiresolution OME-ZARR] load_raw_data_virtually metadata_save_path=[D:/James/2026-01-23/N001/10 mW/subsampled] image_data_save_path=[D:/James/2026-01-23/N001/10 mW/subsampled] check_stack_sizes compression=Zstandard downsampling_factors=[{ {1,1,1}, {2,2,2}, {4,4,4}, {8,8,8} }] block_size=[{ {128,128,64}, {128,128,64}, {128,128,64}, {128,128,64} }] compute_block_size_factor_x=16 compute_block_size_factor_y=16 compute_block_size_factor_z=1 number_of_threads=19");
//run("Detect Interest Points for Registration", "select=file:/D:/James/2026-01-23/N001/10%20mW/subsampled/dataset.xml process_angle=[All angles] process_channel=[All channels] process_illumination=[All illuminations] process_tile=[All tiles] process_timepoint=[All Timepoints] type_of_interest_point_detection=Difference-of-Gaussian label_interest_points=beads subpixel_localization=[Gaussian mask localization fit] interest_point_specification=[Comparable to Sample & small (beads)] downsample_xy=[Match Z Resolution (less downsampling)] downsample_z=1x compute_on=[CPU (Java)]");
run("Calculate pairwise shifts ...", "select=file:/D:/James/2026-01-23/N001/10%20mW/subsampled/dataset.xml process_angle=[All angles] process_channel=[All channels] process_illumination=[All illuminations] process_tile=[All tiles] process_timepoint=[All Timepoints] method=[Phase Correlation] downsample_in_x=1 downsample_in_y=1 downsample_in_z=1");
run("Optimize globally and apply shifts ...", "select=file:/D:/James/2026-01-23/N001/10%20mW/subsampled/dataset.xml process_angle=[All angles] process_channel=[All channels] process_illumination=[All illuminations] process_tile=[All tiles] process_timepoint=[All Timepoints] relative=2.500 absolute=3.500 global_optimization_strategy=[Two-Round using Metadata to align unconnected Tiles and iterative dropping of bad links] fix_group_0-0 fix_group_0-1 fix_group_0-2 fix_group_0-3");
run("Image Fusion", "select=file:/D:/James/2026-01-23/N001/10%20mW/subsampled/dataset.xml process_angle=[All angles] process_channel=[All channels] process_illumination=[All illuminations] process_tile=[All tiles] process_timepoint=[All Timepoints] bounding_box=[All Views] downsampling=1 interpolation=[Linear Interpolation] fusion_type=[Avg, Blending] pixel_type=[16-bit unsigned integer] interest_points_for_non_rigid=[-= Disable Non-Rigid =-] produce=[Each timepoint & channel] fused_image=[OME-ZARR/N5/HDF5 export using N5-API] define_input=[Auto-load from input data (values shown below)] export=HDF5 compression=[Raw (no compression)] hdf5_file=file:/D:/James/2026-01-23/N001/10%20mW/subsampled/fused2/fused.h5");
